$(document).ready(function(){function e(n){var e=$(n).val(),t=new Array;t=e.split("");for(var a=0,l=new TextEncoder("utf-8"),s=0;s<t.length;s++)3===l.encode(t[s]).length?a+=2:1===l.encode(t[s]).length&&(a+=1);return a}function n(n,e){var t=$(n);t.html(e),t.css("display","block")}function t(n){$(n).css("display","none")}$name=$("#username"),$phone=$("#phone"),$pas=$("#pass"),$code=$("#VerificationCode"),$msg=$("#usernameVer"),$ph=$("#phoneVer"),$ps=$("#passVer"),$btn=$("#but"),num=6,$name.blur(function(){t("#tip1"),console.log(e("#username"));var n=e("#username");if(""===$name.val())return $msg.html("用户名不能为空！"),!1;""!=$name.val()&&0<n&&n<14?$msg.html(""):""!=$name.val()&&14<n&&$msg.html("输入错误！")}),$name.focus(function(){n("#tip1","   设置后不可修改，中英文均可，最长14个英文或7个汉字")}),$phone.blur(function(){/^[1][3,4,5,7,8][0-9]{9}$/.test($phone.val())?$ph.html(""):$ph.html("手机号码格式不正确！")}),$pas.blur(function(){if(t("#tip2"),""===$pas.val())return $ps.html("密码不能为空！"),!1;""!=$pas.val()&&$ps.html("");/(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{8,14}$/.test($pas.val())?$ps.html(""):$ps.html("密码设置不符合要求！")}),$pas.focus(function(){n("#tip2","   长度为8~14个字符<br/>   字母或数字以及标点符号至少包含两种<br/>   不允许空格、中文")}),$btn.click(function(){console.log($btn.val());var n=setInterval(function(){num--,-1===num?(clearInterval(n),$btn.val("发送验证码"),$btn.removeAttr("disabled"),num=6):($btn.val("已发送（"+num+"s)"),$btn.attr("disabled","true"))},1e3)})});